---
warning: 'This file is auto generated by `npm run web:inject`, do not edit by hand'
examples:
  - _php_cast_int(false)
  - _php_cast_int(true)
  - _php_cast_int(0)
  - _php_cast_int(1)
  - _php_cast_int(3.14)
  - _php_cast_int('')
  - _php_cast_int('0')
  - _php_cast_int('abc')
  - _php_cast_int(null)
  - _php_cast_int(undefined)
  - _php_cast_int('123abc')
  - _php_cast_int('123e4')
  - _php_cast_int(0x200000001)
estarget: es5
returns:
  - '0'
  - '1'
  - '0'
  - '1'
  - '3'
  - '0'
  - '0'
  - '0'
  - '0'
  - '0'
  - '123'
  - '123'
  - '8589934593'
dependencies: []
authors:
  original by:
    - Rafał Kukawski
notes: []
type: function
layout: function
title: PHP's _php_cast_int in JavaScript
description: >-
  Here’s what our current JavaScript equivalent to <a
  href="http://php.net/manual/en/function.-php-cast-int.php">PHP's
  _php_cast_int</a> looks like.
function: _php_cast_int
category: _helpers
language: php
permalink: php/_helpers/_php_cast_int/
alias:
  - /functions/php/_php_cast_int/
  - /functions/_helpers/_php_cast_int/
  - /php/_php_cast_int/
  - /functions/_php_cast_int/
---
{% codeblock lang:javascript %}module.exports = function _php_cast_int (value) { // eslint-disable-line camelcase
  // original by: Rafał Kukawski
  //   example 1: _php_cast_int(false)
  //   returns 1: 0
  //   example 2: _php_cast_int(true)
  //   returns 2: 1
  //   example 3: _php_cast_int(0)
  //   returns 3: 0
  //   example 4: _php_cast_int(1)
  //   returns 4: 1
  //   example 5: _php_cast_int(3.14)
  //   returns 5: 3
  //   example 6: _php_cast_int('')
  //   returns 6: 0
  //   example 7: _php_cast_int('0')
  //   returns 7: 0
  //   example 8: _php_cast_int('abc')
  //   returns 8: 0
  //   example 9: _php_cast_int(null)
  //   returns 9: 0
  //  example 10: _php_cast_int(undefined)
  //  returns 10: 0
  //  example 11: _php_cast_int('123abc')
  //  returns 11: 123
  //  example 12: _php_cast_int('123e4')
  //  returns 12: 123
  //  example 13: _php_cast_int(0x200000001)
  //  returns 13: 8589934593

  var type = typeof value

  switch (type) {
    case 'number':
      if (isNaN(value) || !isFinite(value)) {
        // from PHP 7, NaN and Infinity are casted to 0
        return 0
      }

      return value < 0 ? Math.ceil(value) : Math.floor(value)
    case 'string':
      return parseInt(value, 10) || 0
    case 'boolean':
      // fall through
    default:
      // Behaviour for types other than float, string, boolean
      // is undefined and can change any time.
      // To not invent complex logic
      // that mimics PHP 7.0 behaviour
      // casting value->bool->number is used
      return +!!value
  }
}
{% endcodeblock %}