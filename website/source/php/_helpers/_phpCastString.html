---
warning: 'This file is auto generated by `npm run web:inject`, do not edit by hand'
examples:
  - _phpCastString(true)
  - _phpCastString(false)
  - _phpCastString('foo')
  - _phpCastString(0/0)
  - _phpCastString(1/0)
  - _phpCastString(-1/0)
  - _phpCastString(null)
  - _phpCastString(undefined)
  - '_phpCastString([])'
  - '_phpCastString({})'
  - _phpCastString(0)
  - _phpCastString(1)
  - _phpCastString(3.14)
estarget: es5
returns:
  - '''1'''
  - ''''''
  - '''foo'''
  - '''NAN'''
  - '''INF'''
  - '''-INF'''
  - ''''''
  - ''''''
  - '''Array'''
  - '''Object'''
  - '''0'''
  - '''1'''
  - '''3.14'''
dependencies: []
authors:
  original by:
    - Rafał Kukawski
notes: []
type: function
layout: function
title: PHP's _phpCastString in JavaScript
description: >-
  Here’s what our current JavaScript equivalent to <a
  href="http://php.net/manual/en/function.-phpCastString.php">PHP's
  _phpCastString</a> looks like.
function: _phpCastString
category: _helpers
language: php
permalink: php/_helpers/_phpCastString/
alias:
  - /functions/php/_phpCastString/
  - /functions/_helpers/_phpCastString/
  - /php/_phpCastString/
  - /functions/_phpCastString/
---
{% codeblock lang:javascript %}module.exports = function _phpCastString (value) {
  // original by: Rafał Kukawski
  //   example 1: _phpCastString(true)
  //   returns 1: '1'
  //   example 2: _phpCastString(false)
  //   returns 2: ''
  //   example 3: _phpCastString('foo')
  //   returns 3: 'foo'
  //   example 4: _phpCastString(0/0)
  //   returns 4: 'NAN'
  //   example 5: _phpCastString(1/0)
  //   returns 5: 'INF'
  //   example 6: _phpCastString(-1/0)
  //   returns 6: '-INF'
  //   example 7: _phpCastString(null)
  //   returns 7: ''
  //   example 8: _phpCastString(undefined)
  //   returns 8: ''
  //   example 9: _phpCastString([])
  //   returns 9: 'Array'
  //   example 10: _phpCastString({})
  //   returns 10: 'Object'
  //   example 11: _phpCastString(0)
  //   returns 11: '0'
  //   example 12: _phpCastString(1)
  //   returns 12: '1'
  //   example 13: _phpCastString(3.14)
  //   returns 13: '3.14'

  var type = typeof value

  switch (type) {
    case 'boolean':
      return value ? '1' : ''
    case 'string':
      return value
    case 'number':
      if (isNaN(value)) {
        return 'NAN'
      }

      if (!isFinite(value)) {
        return (value < 0 ? '-' : '') + 'INF'
      }

      return value + ''
    case 'undefined':
      return ''
    case 'object':
      if (Array.isArray(value)) {
        return 'Array'
      }

      if (value !== null) {
        return 'Object'
      }

      return ''
    case 'function':
      // fall through
    default:
      throw new Error('Unsupported value type')
  }
}
{% endcodeblock %}